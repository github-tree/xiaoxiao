---
title: "主协程如何等其余协程完再操作"
date: 2022-04-14T10:00:12+08:00
---

使用` sync.WaitGroup`。，就是用来等待一组操作完成的。

* WaitGroup 内部实现了一个计数器，用来记录未完成的操作个数。
* Add()用来添加计数；
* Done()用来在操作结束时调用，使计数减一；
* Wait()用来等待所有的操作结束，即计数变为 0，该函数会在计数不为 0 时等待，在计数为 0 时立即返回。
