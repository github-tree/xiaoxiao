---
title: "数据持久化方案"
date: 2022-04-13T13:56:08+08:00
Description: ""
Tags: [
    "RDB",
    "AOF",
]
---


* 1.利用 RDB 持久化在指定的时间间隔生成数据集的时间点快照（point-in-time ）；

* 2.利用 AOF 持久化将服务器收到的所有写操作命令记录下来，并在服务器重新启动的时候，利用这些命令来恢复数据集。AOF的命令使用的是与Redis本身协议的命令一致，通过追加的方式将数据写入备份文件中，同时当备份文件过大时，Redis 也能对备份文件进行重压缩。

* 3.如果仅希望数据只在数据库运行时存在，那么还可以完全禁用掉持久化机制；

* 4.Redis还可以同时使用 AOF 持久化和 RDB 持久化。在这种情况下，当 AOF 重启时，会优先使用 AOF 文件去恢复原始数据。因为 AOF 中保存的数据通常比 RDB 中保存的数据更加完整会优先使用 AOF 文件去恢复原始数据。因为 AOF 中保存的数据通常比 RDB 中保存的数据更加完整