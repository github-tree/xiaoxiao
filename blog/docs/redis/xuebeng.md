---
title: "缓存雪崩"
date: 2022-04-13T20:00:16+08:00
---

多个key失效，造成大量请求到db层，导致db层负担过重甚至宕机。

* 方案一：使用互斥锁的方式，保证只有单个线程进行请求能够达到db；

* 方案二：多每个key的失效时间在基础时间上再加上一个1~5分钟的随机值，这样就能保证大规模key集体失效的概率，并且需要尽量让多个key的失效时间能够均匀分布；
